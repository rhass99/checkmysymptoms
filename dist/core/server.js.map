{"version":3,"sources":["../../src/core/server.js"],"names":["process","env","NODE_ENV","require","config","DB_URI","DATABASE_DEV_URL","DATABASE_URL","PORT","app","db","sequelize","authenticate","then","console","log","catch","model","apiRouter","express","Router","get","req","res","send","email","param","User","findOne","where","user","json","err","post","next","body","myLion","id","push"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAJA,IAAIA,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4CC,QAAQ,QAAR,EAAkBC,MAAlB;;AAM5C,MAAMC,SAASL,QAAQC,GAAR,CAAYK,gBAAZ,IAAgCN,QAAQC,GAAR,CAAYM,YAA3D;AACA,MAAMC,OAAOR,QAAQC,GAAR,CAAYO,IAAzB;;AAEA;AACA,MAAMC,MAAM,wBAAZ;;AAEA;AACAC,gBAAGC,SAAH,CAAaC,YAAb,GACKC,IADL,CACU,MAAMC,QAAQC,GAAR,CAAa,gBAAeV,MAAO,EAAnC,CADhB,EAEKW,KAFL,CAEW,MAAMF,QAAQC,GAAR,CAAY,eAAZ,CAFjB;;AAIAD,QAAQC,GAAR,CAAYE,eAAZ;;AAEA;AACA,MAAMC,YAAYC,kBAAQC,MAAR,EAAlB;;AAEA;AACA,0BAAgBX,GAAhB;;AAEAA,IAAIY,GAAJ,CAAQ,kBAAR,EAA4B,CAACC,GAAD,EAAMC,GAAN,KAAcA,IAAIC,IAAJ,CAAU,gBAAexB,QAAQC,GAAR,CAAYC,QAAS,aAAYM,IAAK,uBAAsBH,MAAO,EAA5F,CAA1C;;AAEAI,IAAIY,GAAJ,CAAQ,OAAR,EAAiB,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,QAAIE,QAAQH,IAAII,KAAJ,CAAU,OAAV,CAAZ;AACAZ,YAAQC,GAAR,CAAYU,KAAZ;AACAR,oBAAMU,IAAN,CAAWC,OAAX,CAAmB,EAAEC,OAAO,EAACJ,OAAOA,KAAR,EAAT,EAAnB,EACKZ,IADL,CACWiB,IAAD,IAAUP,IAAIQ,IAAJ,CAASD,IAAT,CADpB,EAEKd,KAFL,CAEYgB,GAAD,IAASlB,QAAQC,GAAR,CAAYiB,GAAZ,CAFpB;AAGH,CAND;;AAQAvB,IAAIwB,IAAJ,CAAS,QAAT,EAAmB,CAACX,GAAD,EAAMC,GAAN,EAAWW,IAAX,KAAoB;AACnCpB,YAAQC,GAAR,CAAYO,IAAIa,IAAhB;AACA,QAAIC,SAASd,IAAIa,IAAjB;AACAC,WAAOC,EAAP,GAAY,GAAZ;AACA3B,oBAAG4B,IAAH,CAAQF,MAAR;AACAb,QAAIQ,IAAJ,CAASrB,eAAT;AACH,CAND;;kBAQeD,G","file":"server.js","sourcesContent":["if (process.env.NODE_ENV === 'development') require('dotenv').config();\n\nimport express from 'express';\nimport setupMiddleware from './middleware';\nimport db from '../models/index'\nimport model from '../models/index';\nconst DB_URI = process.env.DATABASE_DEV_URL || process.env.DATABASE_URL;\nconst PORT = process.env.PORT;\n\n// Declare an app from express\nconst app = express();\n\n// Start DB\ndb.sequelize.authenticate()\n    .then(() => console.log(`Connected to ${DB_URI}`))\n    .catch(() => console.log('Not connected'));\n\nconsole.log(model);\n\n// Declare express router\nconst apiRouter = express.Router();\n\n// Setup middleware\nsetupMiddleware(app);\n\napp.get('/checkconnection', (req, res) => res.send(`Listening to ${process.env.NODE_ENV} on port: ${PORT} while Connected to ${DB_URI}`));\n\napp.get('/user', (req, res) => {\n    let email = req.param('email');\n    console.log(email);\n    model.User.findOne({ where: {email: email}})\n        .then((user) => res.json(user))\n        .catch((err) => console.log(err));\n});\n\napp.post('/lions', (req, res, next) => {\n    console.log(req.body);\n    let myLion = req.body;\n    myLion.id = \"1\";\n    db.push(myLion);\n    res.json(db);\n});\n\nexport default app;"]}