{"version":3,"sources":["../../src/core/server.js"],"names":["process","env","NODE_ENV","require","config","DB_URI","DATABASE_DEV_URL","DATABASE_URL","PORT","app","db","sequelize","authenticate","then","console","log","catch","apiRouter","express","Router","get","req","res","send","post","next","body","myLion","id","push","json"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;;;AALA,IAAIA,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAA7B,EAA4CC,QAAQ,QAAR,EAAkBC,MAAlB;;AAM5C,MAAMC,SAASL,QAAQC,GAAR,CAAYK,gBAAZ,IAAgCN,QAAQC,GAAR,CAAYM,YAA3D;AACA,MAAMC,OAAOR,QAAQC,GAAR,CAAYO,IAAzB;;AAEA;AACA,MAAMC,MAAM,wBAAZ;;AAEA;AACAC,gBAAGC,SAAH,CAAaC,YAAb,GACKC,IADL,CACU,MAAMC,QAAQC,GAAR,CAAa,gBAAeV,MAAO,EAAnC,CADhB,EAEKW,KAFL,CAEW,MAAMF,QAAQC,GAAR,CAAY,eAAZ,CAFjB;;AAIA;AACA,MAAME,YAAYC,kBAAQC,MAAR,EAAlB;;AAEA;AACA,0BAAgBV,GAAhB;;AAEAA,IAAIW,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAcA,IAAIC,IAAJ,CAAU,gBAAevB,QAAQC,GAAR,CAAYC,QAAS,aAAYM,IAAK,uBAAsBH,MAAO,EAA5F,CAA3B;;AAEAI,IAAIe,IAAJ,CAAS,QAAT,EAAmB,CAACH,GAAD,EAAMC,GAAN,EAAWG,IAAX,KAAoB;AACnCX,YAAQC,GAAR,CAAYM,IAAIK,IAAhB;AACA,QAAIC,SAASN,IAAIK,IAAjB;AACAC,WAAOC,EAAP,GAAY,GAAZ;AACAlB,oBAAGmB,IAAH,CAAQF,MAAR;AACAL,QAAIQ,IAAJ,CAASpB,eAAT;AACH,CAND;;kBAQeD,G","file":"server.js","sourcesContent":["if (process.env.NODE_ENV === 'development') require('dotenv').config();\n\nimport express from 'express';\nimport setupMiddleware from './middleware';\nimport db from '../models/index'\nimport userModel from \"../models/user\";\nconst DB_URI = process.env.DATABASE_DEV_URL || process.env.DATABASE_URL;\nconst PORT = process.env.PORT;\n\n// Declare an app from express\nconst app = express();\n\n// Start DB\ndb.sequelize.authenticate()\n    .then(() => console.log(`Connected to ${DB_URI}`))\n    .catch(() => console.log('Not connected'));\n\n// Declare express router\nconst apiRouter = express.Router();\n\n// Setup middleware\nsetupMiddleware(app);\n\napp.get('/', (req, res) => res.send(`Listening to ${process.env.NODE_ENV} on port: ${PORT} while Connected to ${DB_URI}`));\n\napp.post('/lions', (req, res, next) => {\n    console.log(req.body);\n    let myLion = req.body;\n    myLion.id = \"1\";\n    db.push(myLion);\n    res.json(db);\n});\n\nexport default app;"]}